(self.webpackChunkclient=self.webpackChunkclient||[]).push([[325],{4325:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ae}});var r=n(885),o=n(168),a=n(2791),i=n(8907),s=n(2967),l=n(3366),c=n(7462),u=n(8182),f=n(767),d=n(551),p=n(4820),h=n(5159),v=n(208);function g(e){return(0,h.Z)("MuiCardMedia",e)}(0,v.Z)("MuiCardMedia",["root","media","img"]);var m=n(184),y=["children","className","component","image","src","style"],b=(0,p.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.isMediaComponent,o=n.isImageComponent;return[t.root,r&&t.media,o&&t.img]}})((function(e){var t=e.ownerState;return(0,c.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),x=["video","audio","picture","iframe","img"],S=["picture","img"],w=a.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiCardMedia"}),r=n.children,o=n.className,a=n.component,i=void 0===a?"div":a,s=n.image,p=n.src,h=n.style,v=(0,l.Z)(n,y),w=-1!==x.indexOf(i),O=!w&&s?(0,c.Z)({backgroundImage:'url("'.concat(s,'")')},h):h,C=(0,c.Z)({},n,{component:i,isMediaComponent:w,isImageComponent:-1!==S.indexOf(i)}),Z=function(e){var t=e.classes,n={root:["root",e.isMediaComponent&&"media",e.isImageComponent&&"img"]};return(0,f.Z)(n,g,t)}(C);return(0,m.jsx)(b,(0,c.Z)({className:(0,u.Z)(Z.root,o),as:i,role:!w&&s?"img":void 0,ref:t,style:O,ownerState:C,src:w?s||p:void 0},v,{children:r}))}));function O(e){return(0,h.Z)("MuiCardActions",e)}(0,v.Z)("MuiCardActions",["root","spacing"]);var C,Z=["disableSpacing","className"],j=(0,p.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,c.Z)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),P=a.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiCardActions"}),r=n.disableSpacing,o=void 0!==r&&r,a=n.className,i=(0,l.Z)(n,Z),s=(0,c.Z)({},n,{disableSpacing:o}),p=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,f.Z)(n,O,t)}(s);return(0,m.jsx)(j,(0,c.Z)({className:(0,u.Z)(p.root,a),ownerState:s,ref:t},i))})),M=n(4603),_=["title","titleId"];function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function I(e,t){var n=e.title,r=e.titleId,o=E(e,_);return a.createElement("svg",k({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,C||(C=a.createElement("path",{d:"M7.07 11.585L7 11.655L6.923 11.585C3.598 8.56801 1.4 6.57301 1.4 4.55001C1.4 3.15001 2.45 2.10001 3.85 2.10001C4.928 2.10001 5.978 2.80001 6.349 3.75201H7.651C8.022 2.80001 9.072 2.10001 10.15 2.10001C11.55 2.10001 12.6 3.15001 12.6 4.55001C12.6 6.57301 10.402 8.56801 7.07 11.585ZM10.15 0.700012C8.932 0.700012 7.763 1.26701 7 2.15601C6.237 1.26701 5.068 0.700012 3.85 0.700012C1.694 0.700012 0 2.38701 0 4.55001C0 7.18901 2.38 9.35201 5.985 12.621L7 13.545L8.015 12.621C11.62 9.35201 14 7.18901 14 4.55001C14 2.38701 12.306 0.700012 10.15 0.700012Z",fill:"current"})))}var R,T,z,L,N,D,H,A,F,W=a.forwardRef(I),B=(n.p,M.ZP.div(R||(R=(0,o.Z)(["\n  padding: 10px;\n  max-width: 210px;\n  margin: 10px;\n\n  &:hover {\n    box-shadow: 0px 2px 4px rgba(59, 69, 123, 0.2),\n      0px 4px 8px rgba(92, 107, 192, 0.2);\n    border-radius: 8px;\n  }\n"])))),G=M.ZP.h4(T||(T=(0,o.Z)(['\n  height: 72px;\n  margin: 10px 0;\n  overflow: auto;\n\n  font-family: "Inter", sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 150%;\n\n  /* or 24px */\n  letter-spacing: 0.0275em;\n\n  /* Gray / 100 */\n  color: #19191d;\n']))),q=M.ZP.p(z||(z=(0,o.Z)(['\n  font-family: "Inter", sans-serif;\n  font-size: 24px;\n  line-height: 150%;\n  margin: 10px 0;\n\n  /* identical to box height, or 36px */\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  /* Dark Color */\n  color: rgba(0, 0, 0, 0.87);\n']))),U=M.ZP.p(L||(L=(0,o.Z)(['\n  height: 50px;\n\n  overflow: auto;\n  /* Inter / Body Small */\n  font-family: "Inter", sans-serif;\n  font-size: 14px;\n\n  /* or 20px */\n  align-items: center;\n  letter-spacing: 0.018em;\n\n  /* Gray / 50 */\n  color: #787885;\n  margin: 0;\n']))),X=M.ZP.div(N||(N=(0,o.Z)(["\n  display: flex;\n  width: 130px;\n"]))),Y=M.ZP.p(D||(D=(0,o.Z)(['\n  /* Roboto / Subtitle 2 */\n  font-family: "Roboto";\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 28px;\n\n  /* identical to box height, or 157% */\n  letter-spacing: 0.1px;\n  margin: 0;\n  margin-left: 4px;\n  /* Gray \xb7 80% */\n  color: #5e6366;\n']))),$=M.ZP.button(H||(H=(0,o.Z)(['\n  cursor: pointer;\n  /* White 100% */\n  background: #ffffff;\n  border: 1px solid #9dc2ff;\n  box-sizing: border-box;\n  border-radius: 4px;\n  /* Inter / Body Small (Medium) */\n  font-family: "Inter", sans-serif;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 143%;\n\n  /* or 20px */\n  display: flex;\n  letter-spacing: 0.018em;\n\n  /* Blue / 70 */\n  color: #2264d1;\n']))),V=(0,M.ZP)(W)(A||(A=(0,o.Z)(["\n  margin: 3px 5px;\n"]))),J=function(e){var t=e.product,n=e.productsStore,o=a.useState("#2979FF"),i=(0,r.Z)(o,2),l=i[0],c=i[1];a.useEffect((function(){var e=t.title.toLowerCase();n.favorites.includes(e)&&c("red")}),[n.favorites,t.title]);return(0,m.jsxs)(B,{children:[(0,m.jsx)(w,{component:"img",height:"194",image:null===t||void 0===t?void 0:t.image,alt:"Paella dish"}),(0,m.jsx)(G,{children:t.title}),(0,m.jsxs)(q,{variant:"h5",children:["$",t.price]}),(0,m.jsx)(U,{variant:"body2",color:"text.secondary",children:null===t||void 0===t?void 0:t.description}),(0,m.jsxs)(P,{disableSpacing:!0,style:{padding:"5px 0",justifyContent:"space-between"},children:[(0,m.jsxs)(X,{children:[(0,m.jsx)(s.Z,{count:5,size:20,color2:"#FB8200",value:null===t||void 0===t?void 0:t.rating.rate}),(0,m.jsx)(Y,{children:null===t||void 0===t?void 0:t.rating.rate})]}),(0,m.jsxs)($,{onClick:function(){c("red"===l?"#2979FF":"red"),n.addFavorite(t.title.toLowerCase())},children:[(0,m.jsx)(V,{fill:l}),"Watch"]})]})]})},K=n(3585),Q=function(e){var t=e.map((function(e){return e.rating.rate})).reduce((function(e,t){return e+t}),0),n=e.map((function(e){return e.rating.count})).reduce((function(e,t){return e+t}),0);return[t/e.length||0,n/e.length||0]},ee=function(e,t){var n=e.rating.rate,r=t.rating.rate;return n>r?-1:n<r?1:0},te=n(5907),ne=n(4682),re=n.n(ne),oe=M.ZP.div(F||(F=(0,o.Z)(["\n  display: grid;\n  grid-template-columns: auto auto auto auto;\n  width: 80vw;\n  justify-content: space-between;\n  box-shadow: 0px 1px 2px rgba(58, 58, 68, 0.24),\n    0px 2px 4px rgba(90, 91, 106, 0.24);\n  border-radius: 8px;\n"]))),ae=(0,i.Pi)((function(e){var t=e.productsStore;(0,a.useEffect)((function(){t.fetch()}),[t]);var n=t.filter,o=t.sort;return(0,m.jsx)(oe,{children:function(){var e,a=null===(e=t.products)||void 0===e?void 0:e.slice(),i=Q(a),s=(0,r.Z)(i,2),l=s[0],c=s[1];console.log(l,c);var u=function(e,t){return function(e){var t=e.title.toLowerCase(),r=e.description.toLowerCase(),o=e.category;return t.includes(n)||r.includes(n)||n.split("?").includes(t)||o===n}(e)&&(0,m.jsx)(J,{product:e,productsStore:te.$},re()({length:7}))},f=a.map(u),d=a.sort((function(e,t){return function(e,t,n,r){var o=e.rating,a=o.rate,i=o.count,s=t.rating,l=n/a*(r/i),c=n/s.rate*(r/s.count);return l>c?1:l<c?-1:0}(e,t,l,c)})).map(u),p=a.reverse().map(u),h=a.sort(ee).map(u),v=function(e){return a.sort((function(t,n){return function(e,t,n){return e.price>t.price?n?-1:1:e.price<t.price?n?1:-1:0}(t,n,e)})).map(u)};switch(o){case K._l.RECENTLY_ADDED:return f;case K._l.RECOMMENDED:return d;case K._l.EXPIRING_SOON:return p;case K._l.MOST_RATED:return h;case K._l.PRICE_LOW_TO_HIGH:return v(!1);case K._l.PRICE_HIGH_TO_LOW:return v(!0);default:return f}}()})}))},888:function(e,t,n){"use strict";var r=n(9047);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2967:function(e,t,n){"use strict";t.Z=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2791)),a=(r=n(2007))&&r.__esModule?r:{default:r};function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}var d={overflow:"hidden",position:"relative"},p={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"},h=function(e,t){return"\n    .stars-rating-".concat(t,":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: ").concat(e,";\n  }")},v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=c(this,u(t).call(this,e)),e=s({},e),n.state={uniqueness:(Math.random()+"").replace(".",""),value:e.value||0,stars:[],halfStar:{at:Math.floor(e.value),hidden:e.half&&e.value%1<.5}},n.state.config={count:e.count,size:e.size,char:e.char,color1:e.color1,color2:e.color2,half:e.half,edit:e.edit},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.setState({stars:this.getStars(this.state.value)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({stars:this.getStars(e.value),value:e.value,halfStar:{at:Math.floor(e.value),hidden:this.state.config.half&&e.value%1<.5},config:s({},this.state.config,{count:e.count,size:e.size,char:e.char,color1:e.color1,color2:e.color2,half:e.half,edit:e.edit})})}},{key:"isDecimal",value:function(e){return e%1!==0}},{key:"getRate",value:function(){return this.state.config.half?Math.floor(this.state.value):Math.round(this.state.value)}},{key:"getStars",value:function(e){"undefined"===typeof e&&(e=this.getRate());for(var t=[],n=0;n<this.state.config.count;n++)t.push({active:n<=e-1});return t}},{key:"mouseOver",value:function(e){var t=this.state,n=t.config,r=t.halfStar;if(n.edit){var o=Number(e.target.getAttribute("data-index"));if(n.half){var a=this.moreThanHalf(e,n.size);r.hidden=a,a&&(o+=1),r.at=o}else o+=1;this.setState({stars:this.getStars(o)})}}},{key:"moreThanHalf",value:function(e,t){var n=e.target,r=e.clientX-n.getBoundingClientRect().left;return(r=Math.round(Math.abs(r)))>t/2}},{key:"mouseLeave",value:function(){var e=this.state,t=e.value,n=e.halfStar,r=e.config;r.edit&&(r.half&&(n.hidden=!this.isDecimal(t),n.at=Math.floor(this.state.value)),this.setState({stars:this.getStars()}))}},{key:"clicked",value:function(e){var t=this.state,n=t.config,r=t.halfStar;if(n.edit){var o,a=Number(e.target.getAttribute("data-index"));if(n.half){var i=this.moreThanHalf(e,n.size);r.hidden=i,i&&(a+=1),o=i?a:a+.5,r.at=a}else o=a+=1;this.setState({value:o,stars:this.getStars(a)}),this.props.onChange(o)}}},{key:"renderHalfStarStyleElement",value:function(){var e=this.state,t=e.config,n=e.uniqueness;return o.default.createElement("style",{dangerouslySetInnerHTML:{__html:h(t.color2,n)}})}},{key:"renderStars",value:function(){var e=this,t=this.state,n=t.halfStar,r=t.stars,a=t.uniqueness,i=t.config,l=i.color1,c=i.color2,u=i.size,f=i.char,d=i.half,h=i.edit;return r.map((function(t,r){var i="";d&&!n.hidden&&n.at===r&&(i="stars-rating-".concat(a));var v=s({},p,{color:t.active?c:l,cursor:h?"pointer":"default",fontSize:"".concat(u,"px")});return o.default.createElement("span",{className:i,style:v,key:r,"data-index":r,"data-forhalf":f,onMouseOver:e.mouseOver.bind(e),onMouseMove:e.mouseOver.bind(e),onMouseLeave:e.mouseLeave.bind(e),onClick:e.clicked.bind(e)},f)}))}},{key:"render",value:function(){var e=this.props.className;return o.default.createElement("div",{className:e,style:d},this.state.config.half?this.renderHalfStarStyleElement():"",this.renderStars())}}])&&l(n.prototype,r),a&&l(n,a),t}(o.Component);v.propTypes={className:a.default.string,edit:a.default.bool,half:a.default.bool,value:a.default.number,count:a.default.number,char:a.default.string,size:a.default.number,color1:a.default.string,color2:a.default.string},v.defaultProps={edit:!0,half:!0,value:0,count:6,char:"\u2605",size:15,color1:"gray",color2:"#ffd700",onChange:function(){}};var g=v;t.Z=g}}]);
//# sourceMappingURL=325.ca38c1fb.chunk.js.map